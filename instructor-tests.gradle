task downloadFile(type: Download) {
  quiet true
  // the below is java 11
  // src 'https://www.dropbox.com/s/ut30a52m27f47bc/lab4-instructor-tests.zip?dl=1'
  src 'https://www.dropbox.com/s/x6mjl3wvvnildra/lab4-instructor-tests.zip?dl=1'
  dest new File(buildDir, 'dist/instructor-tests.zip')
}

task downloadAndUnzip(dependsOn: downloadFile, type: Copy) {
  from zipTree(downloadFile.dest)
  into new File(buildDir, 'instructor')
}

task instTest(dependsOn: downloadAndUnzip, type: Test) {
  description = "Running tests from Instructor"

  testClassesDirs = files("$buildDir/instructor")
  classpath = sourceSets.main.output + testClassesDirs + sourceSets.test.runtimeClasspath
  print "Reports can be found at: ${reports.html.entryPoint}\n\n"
}


